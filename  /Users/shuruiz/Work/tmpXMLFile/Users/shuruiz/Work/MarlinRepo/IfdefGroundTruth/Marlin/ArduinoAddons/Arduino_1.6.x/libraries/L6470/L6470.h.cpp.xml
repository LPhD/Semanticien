<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.sdml.info/srcML/src" xmlns:cpp="http://www.sdml.info/srcML/cpp" xmlns:PREFIX="http://www.sdml.info/srcML/position" language="C++" filename=" /Users/shuruiz/Work/tmpXMLFile//Users/shuruiz/Work/MarlinRepo/IfdefGroundTruth/Marlin/ArduinoAddons/Arduino_1.6.x/libraries/L6470/L6470.h.cpp" PREFIX:tabs="8"><comment type="line" format="doxygen" PREFIX:line="1" PREFIX:column="1">////////////////////////////////////////////////////////////</comment>
<comment type="line" PREFIX:line="2" PREFIX:column="1">//ORIGINAL CODE 12/12/2011- Mike Hord, SparkFun Electronics</comment>
<comment type="line" PREFIX:line="3" PREFIX:column="1">//LIBRARY Created by Adam Meyer of bildr Aug 18th 2012</comment>
<comment type="line" PREFIX:line="4" PREFIX:column="1">//Released as MIT license</comment>
<comment type="line" format="doxygen" PREFIX:line="5" PREFIX:column="1">////////////////////////////////////////////////////////////</comment>
<cpp:ifndef PREFIX:line="6" PREFIX:column="1">#<cpp:directive PREFIX:line="6" PREFIX:column="2">ifndef</cpp:directive> <name PREFIX:line="6" PREFIX:column="9">L6470_h</name></cpp:ifndef>
<cpp:define PREFIX:line="7" PREFIX:column="1">#<cpp:directive PREFIX:line="7" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="7" PREFIX:column="9">L6470_h</name></cpp:macro></cpp:define>

<cpp:include PREFIX:line="9" PREFIX:column="1">#<cpp:directive PREFIX:line="9" PREFIX:column="2">include</cpp:directive> <cpp:file PREFIX:line="9" PREFIX:column="10">&lt;Arduino.h&gt;</cpp:file></cpp:include>
<cpp:include PREFIX:line="10" PREFIX:column="1">#<cpp:directive PREFIX:line="10" PREFIX:column="2">include</cpp:directive> <cpp:file PREFIX:line="10" PREFIX:column="10">&lt;SPI.h&gt;</cpp:file></cpp:include>

<cpp:define PREFIX:line="12" PREFIX:column="1">#<cpp:directive PREFIX:line="12" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="12" PREFIX:column="9">SLAVE_SELECT_PIN</name></cpp:macro> <cpp:value PREFIX:line="12" PREFIX:column="26">38</cpp:value></cpp:define> <comment type="line" PREFIX:line="12" PREFIX:column="29">// Wire this to the CSN pin</comment>
<comment type="line" PREFIX:line="13" PREFIX:column="1">// #define RESET 6 // Wire this to the STBY line</comment>
<cpp:define PREFIX:line="14" PREFIX:column="1">#<cpp:directive PREFIX:line="14" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="14" PREFIX:column="9">BUSYN</name></cpp:macro> <cpp:value PREFIX:line="14" PREFIX:column="15">7</cpp:value></cpp:define> <comment type="line" PREFIX:line="14" PREFIX:column="17">// Wire this to the BSYN line</comment>

<comment type="line" PREFIX:line="16" PREFIX:column="1">// ant definitions for overcurrent thresholds. Write these values to</comment>
<comment type="line" PREFIX:line="17" PREFIX:column="1">// register dSPIN_OCD_TH to set the level at which an overcurrent even occurs.</comment>
<cpp:define PREFIX:line="18" PREFIX:column="1">#<cpp:directive PREFIX:line="18" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="18" PREFIX:column="9">OCD_TH_375mA</name></cpp:macro> <cpp:value PREFIX:line="18" PREFIX:column="22">0x00</cpp:value></cpp:define>
<cpp:define PREFIX:line="19" PREFIX:column="1">#<cpp:directive PREFIX:line="19" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="19" PREFIX:column="9">OCD_TH_750mA</name></cpp:macro> <cpp:value PREFIX:line="19" PREFIX:column="22">0x01</cpp:value></cpp:define>
<cpp:define PREFIX:line="20" PREFIX:column="1">#<cpp:directive PREFIX:line="20" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="20" PREFIX:column="9">OCD_TH_1125mA</name></cpp:macro> <cpp:value PREFIX:line="20" PREFIX:column="23">0x02</cpp:value></cpp:define>
<cpp:define PREFIX:line="21" PREFIX:column="1">#<cpp:directive PREFIX:line="21" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="21" PREFIX:column="9">OCD_TH_1500mA</name></cpp:macro> <cpp:value PREFIX:line="21" PREFIX:column="23">0x03</cpp:value></cpp:define>
<cpp:define PREFIX:line="22" PREFIX:column="1">#<cpp:directive PREFIX:line="22" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="22" PREFIX:column="9">OCD_TH_1875mA</name></cpp:macro> <cpp:value PREFIX:line="22" PREFIX:column="23">0x04</cpp:value></cpp:define>
<cpp:define PREFIX:line="23" PREFIX:column="1">#<cpp:directive PREFIX:line="23" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="23" PREFIX:column="9">OCD_TH_2250mA</name></cpp:macro> <cpp:value PREFIX:line="23" PREFIX:column="23">0x05</cpp:value></cpp:define>
<cpp:define PREFIX:line="24" PREFIX:column="1">#<cpp:directive PREFIX:line="24" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="24" PREFIX:column="9">OCD_TH_2625mA</name></cpp:macro> <cpp:value PREFIX:line="24" PREFIX:column="23">0x06</cpp:value></cpp:define>
<cpp:define PREFIX:line="25" PREFIX:column="1">#<cpp:directive PREFIX:line="25" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="25" PREFIX:column="9">OCD_TH_3000mA</name></cpp:macro> <cpp:value PREFIX:line="25" PREFIX:column="23">0x07</cpp:value></cpp:define>
<cpp:define PREFIX:line="26" PREFIX:column="1">#<cpp:directive PREFIX:line="26" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="26" PREFIX:column="9">OCD_TH_3375mA</name></cpp:macro> <cpp:value PREFIX:line="26" PREFIX:column="23">0x08</cpp:value></cpp:define>
<cpp:define PREFIX:line="27" PREFIX:column="1">#<cpp:directive PREFIX:line="27" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="27" PREFIX:column="9">OCD_TH_3750mA</name></cpp:macro> <cpp:value PREFIX:line="27" PREFIX:column="23">0x09</cpp:value></cpp:define>
<cpp:define PREFIX:line="28" PREFIX:column="1">#<cpp:directive PREFIX:line="28" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="28" PREFIX:column="9">OCD_TH_4125mA</name></cpp:macro> <cpp:value PREFIX:line="28" PREFIX:column="23">0x0A</cpp:value></cpp:define>
<cpp:define PREFIX:line="29" PREFIX:column="1">#<cpp:directive PREFIX:line="29" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="29" PREFIX:column="9">OCD_TH_4500mA</name></cpp:macro> <cpp:value PREFIX:line="29" PREFIX:column="23">0x0B</cpp:value></cpp:define>
<cpp:define PREFIX:line="30" PREFIX:column="1">#<cpp:directive PREFIX:line="30" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="30" PREFIX:column="9">OCD_TH_4875mA</name></cpp:macro> <cpp:value PREFIX:line="30" PREFIX:column="23">0x0C</cpp:value></cpp:define>
<cpp:define PREFIX:line="31" PREFIX:column="1">#<cpp:directive PREFIX:line="31" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="31" PREFIX:column="9">OCD_TH_5250mA</name></cpp:macro> <cpp:value PREFIX:line="31" PREFIX:column="23">0x0D</cpp:value></cpp:define>
<cpp:define PREFIX:line="32" PREFIX:column="1">#<cpp:directive PREFIX:line="32" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="32" PREFIX:column="9">OCD_TH_5625mA</name></cpp:macro> <cpp:value PREFIX:line="32" PREFIX:column="23">0x0E</cpp:value></cpp:define>
<cpp:define PREFIX:line="33" PREFIX:column="1">#<cpp:directive PREFIX:line="33" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="33" PREFIX:column="9">OCD_TH_6000mA</name></cpp:macro> <cpp:value PREFIX:line="33" PREFIX:column="23">0x0F</cpp:value></cpp:define>

<comment type="line" PREFIX:line="35" PREFIX:column="1">// STEP_MODE option values.</comment>
<comment type="line" PREFIX:line="36" PREFIX:column="1">// First comes the "microsteps per step" options...</comment>
<cpp:define PREFIX:line="37" PREFIX:column="1">#<cpp:directive PREFIX:line="37" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="37" PREFIX:column="9">STEP_MODE_STEP_SEL</name></cpp:macro> <cpp:value PREFIX:line="37" PREFIX:column="28">0x07</cpp:value></cpp:define> <comment type="line" PREFIX:line="37" PREFIX:column="33">// Mask for these bits only.</comment>
<cpp:define PREFIX:line="38" PREFIX:column="1">#<cpp:directive PREFIX:line="38" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="38" PREFIX:column="9">STEP_SEL_1</name></cpp:macro> <cpp:value PREFIX:line="38" PREFIX:column="20">0x00</cpp:value></cpp:define>
<cpp:define PREFIX:line="39" PREFIX:column="1">#<cpp:directive PREFIX:line="39" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="39" PREFIX:column="9">STEP_SEL_1_2</name></cpp:macro> <cpp:value PREFIX:line="39" PREFIX:column="22">0x01</cpp:value></cpp:define>
<cpp:define PREFIX:line="40" PREFIX:column="1">#<cpp:directive PREFIX:line="40" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="40" PREFIX:column="9">STEP_SEL_1_4</name></cpp:macro> <cpp:value PREFIX:line="40" PREFIX:column="22">0x02</cpp:value></cpp:define>
<cpp:define PREFIX:line="41" PREFIX:column="1">#<cpp:directive PREFIX:line="41" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="41" PREFIX:column="9">STEP_SEL_1_8</name></cpp:macro> <cpp:value PREFIX:line="41" PREFIX:column="22">0x03</cpp:value></cpp:define>
<cpp:define PREFIX:line="42" PREFIX:column="1">#<cpp:directive PREFIX:line="42" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="42" PREFIX:column="9">STEP_SEL_1_16</name></cpp:macro> <cpp:value PREFIX:line="42" PREFIX:column="23">0x04</cpp:value></cpp:define>
<cpp:define PREFIX:line="43" PREFIX:column="1">#<cpp:directive PREFIX:line="43" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="43" PREFIX:column="9">STEP_SEL_1_32</name></cpp:macro> <cpp:value PREFIX:line="43" PREFIX:column="23">0x05</cpp:value></cpp:define>
<cpp:define PREFIX:line="44" PREFIX:column="1">#<cpp:directive PREFIX:line="44" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="44" PREFIX:column="9">STEP_SEL_1_64</name></cpp:macro> <cpp:value PREFIX:line="44" PREFIX:column="23">0x06</cpp:value></cpp:define>
<cpp:define PREFIX:line="45" PREFIX:column="1">#<cpp:directive PREFIX:line="45" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="45" PREFIX:column="9">STEP_SEL_1_128</name></cpp:macro> <cpp:value PREFIX:line="45" PREFIX:column="24">0x07</cpp:value></cpp:define>

<comment type="line" PREFIX:line="47" PREFIX:column="1">// ...next, define the SYNC_EN bit. When set, the BUSYN pin will instead</comment>
<comment type="line" PREFIX:line="48" PREFIX:column="1">// output a clock related to the full-step frequency as defined by the</comment>
<comment type="line" PREFIX:line="49" PREFIX:column="1">// SYNC_SEL bits below.</comment>
<cpp:define PREFIX:line="50" PREFIX:column="1">#<cpp:directive PREFIX:line="50" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="50" PREFIX:column="9">STEP_MODE_SYNC_EN</name></cpp:macro> <cpp:value PREFIX:line="50" PREFIX:column="27">0x80</cpp:value></cpp:define> <comment type="line" PREFIX:line="50" PREFIX:column="32">// Mask for this bit</comment>
<cpp:define PREFIX:line="51" PREFIX:column="1">#<cpp:directive PREFIX:line="51" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="51" PREFIX:column="9">SYNC_EN</name></cpp:macro> <cpp:value PREFIX:line="51" PREFIX:column="17">0x80</cpp:value></cpp:define>

<comment type="line" PREFIX:line="53" PREFIX:column="1">// ...last, define the SYNC_SEL modes. The clock output is defined by</comment>
<comment type="line" PREFIX:line="54" PREFIX:column="1">// the full-step frequency and the value in these bits- see the datasheet</comment>
<comment type="line" PREFIX:line="55" PREFIX:column="1">// for a matrix describing that relationship (page 46).</comment>
<cpp:define PREFIX:line="56" PREFIX:column="1">#<cpp:directive PREFIX:line="56" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="56" PREFIX:column="9">STEP_MODE_SYNC_SEL</name></cpp:macro> <cpp:value PREFIX:line="56" PREFIX:column="28">0x70</cpp:value></cpp:define>
<cpp:define PREFIX:line="57" PREFIX:column="1">#<cpp:directive PREFIX:line="57" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="57" PREFIX:column="9">SYNC_SEL_1_2</name></cpp:macro> <cpp:value PREFIX:line="57" PREFIX:column="22">0x00</cpp:value></cpp:define>
<cpp:define PREFIX:line="58" PREFIX:column="1">#<cpp:directive PREFIX:line="58" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="58" PREFIX:column="9">SYNC_SEL_1</name></cpp:macro> <cpp:value PREFIX:line="58" PREFIX:column="20">0x10</cpp:value></cpp:define>
<cpp:define PREFIX:line="59" PREFIX:column="1">#<cpp:directive PREFIX:line="59" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="59" PREFIX:column="9">SYNC_SEL_2</name></cpp:macro> <cpp:value PREFIX:line="59" PREFIX:column="20">0x20</cpp:value></cpp:define>
<cpp:define PREFIX:line="60" PREFIX:column="1">#<cpp:directive PREFIX:line="60" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="60" PREFIX:column="9">SYNC_SEL_4</name></cpp:macro> <cpp:value PREFIX:line="60" PREFIX:column="20">0x30</cpp:value></cpp:define>
<cpp:define PREFIX:line="61" PREFIX:column="1">#<cpp:directive PREFIX:line="61" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="61" PREFIX:column="9">SYNC_SEL_8</name></cpp:macro> <cpp:value PREFIX:line="61" PREFIX:column="20">0x40</cpp:value></cpp:define>
<cpp:define PREFIX:line="62" PREFIX:column="1">#<cpp:directive PREFIX:line="62" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="62" PREFIX:column="9">SYNC_SEL_16</name></cpp:macro> <cpp:value PREFIX:line="62" PREFIX:column="21">0x50</cpp:value></cpp:define>
<cpp:define PREFIX:line="63" PREFIX:column="1">#<cpp:directive PREFIX:line="63" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="63" PREFIX:column="9">SYNC_SEL_32</name></cpp:macro> <cpp:value PREFIX:line="63" PREFIX:column="21">0x60</cpp:value></cpp:define>
<cpp:define PREFIX:line="64" PREFIX:column="1">#<cpp:directive PREFIX:line="64" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="64" PREFIX:column="9">SYNC_SEL_64</name></cpp:macro> <cpp:value PREFIX:line="64" PREFIX:column="21">0x70</cpp:value></cpp:define>

<comment type="line" PREFIX:line="66" PREFIX:column="1">// Bit names for the ALARM_EN register.</comment>
<comment type="line" PREFIX:line="67" PREFIX:column="1">// Each of these bits defines one potential alarm condition.</comment>
<comment type="line" PREFIX:line="68" PREFIX:column="1">// When one of these conditions occurs and the respective bit in ALARM_EN is set,</comment>
<comment type="line" PREFIX:line="69" PREFIX:column="1">// the FLAG pin will go low. The register must be queried to determine which event</comment>
<comment type="line" PREFIX:line="70" PREFIX:column="1">// caused the alarm.</comment>
<cpp:define PREFIX:line="71" PREFIX:column="1">#<cpp:directive PREFIX:line="71" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="71" PREFIX:column="9">ALARM_EN_OVERCURRENT</name></cpp:macro> <cpp:value PREFIX:line="71" PREFIX:column="30">0x01</cpp:value></cpp:define>
<cpp:define PREFIX:line="72" PREFIX:column="1">#<cpp:directive PREFIX:line="72" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="72" PREFIX:column="9">ALARM_EN_THERMAL_SHUTDOWN</name></cpp:macro> <cpp:value PREFIX:line="72" PREFIX:column="35">0x02</cpp:value></cpp:define>
<cpp:define PREFIX:line="73" PREFIX:column="1">#<cpp:directive PREFIX:line="73" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="73" PREFIX:column="9">ALARM_EN_THERMAL_WARNING</name></cpp:macro> <cpp:value PREFIX:line="73" PREFIX:column="34">0x04</cpp:value></cpp:define>
<cpp:define PREFIX:line="74" PREFIX:column="1">#<cpp:directive PREFIX:line="74" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="74" PREFIX:column="9">ALARM_EN_UNDER_VOLTAGE</name></cpp:macro> <cpp:value PREFIX:line="74" PREFIX:column="32">0x08</cpp:value></cpp:define>
<cpp:define PREFIX:line="75" PREFIX:column="1">#<cpp:directive PREFIX:line="75" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="75" PREFIX:column="9">ALARM_EN_STALL_DET_A</name></cpp:macro> <cpp:value PREFIX:line="75" PREFIX:column="30">0x10</cpp:value></cpp:define>
<cpp:define PREFIX:line="76" PREFIX:column="1">#<cpp:directive PREFIX:line="76" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="76" PREFIX:column="9">ALARM_EN_STALL_DET_B</name></cpp:macro> <cpp:value PREFIX:line="76" PREFIX:column="30">0x20</cpp:value></cpp:define>
<cpp:define PREFIX:line="77" PREFIX:column="1">#<cpp:directive PREFIX:line="77" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="77" PREFIX:column="9">ALARM_EN_SW_TURN_ON</name></cpp:macro> <cpp:value PREFIX:line="77" PREFIX:column="29">0x40</cpp:value></cpp:define>
<cpp:define PREFIX:line="78" PREFIX:column="1">#<cpp:directive PREFIX:line="78" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="78" PREFIX:column="9">ALARM_EN_WRONG_NPERF_CMD</name></cpp:macro> <cpp:value PREFIX:line="78" PREFIX:column="34">0x80</cpp:value></cpp:define>

<comment type="line" PREFIX:line="80" PREFIX:column="1">// CONFIG register renames.</comment>

<comment type="line" PREFIX:line="82" PREFIX:column="1">// Oscillator options.</comment>
<comment type="line" PREFIX:line="83" PREFIX:column="1">// The dSPIN needs to know what the clock frequency is because it uses that for some</comment>
<comment type="line" PREFIX:line="84" PREFIX:column="1">// calculations during operation.</comment>
<cpp:define PREFIX:line="85" PREFIX:column="1">#<cpp:directive PREFIX:line="85" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="85" PREFIX:column="9">CONFIG_OSC_SEL</name></cpp:macro> <cpp:value PREFIX:line="85" PREFIX:column="24">0x000F</cpp:value></cpp:define> <comment type="line" PREFIX:line="85" PREFIX:column="31">// Mask for this bit field.</comment>
<cpp:define PREFIX:line="86" PREFIX:column="1">#<cpp:directive PREFIX:line="86" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="86" PREFIX:column="9">CONFIG_INT_16MHZ</name></cpp:macro> <cpp:value PREFIX:line="86" PREFIX:column="26">0x0000</cpp:value></cpp:define> <comment type="line" PREFIX:line="86" PREFIX:column="33">// Internal 16MHz, no output</comment>
<cpp:define PREFIX:line="87" PREFIX:column="1">#<cpp:directive PREFIX:line="87" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="87" PREFIX:column="9">CONFIG_INT_16MHZ_OSCOUT_2MHZ</name></cpp:macro> <cpp:value PREFIX:line="87" PREFIX:column="38">0x0008</cpp:value></cpp:define> <comment type="line" PREFIX:line="87" PREFIX:column="45">// Default; internal 16MHz, 2MHz output</comment>
<cpp:define PREFIX:line="88" PREFIX:column="1">#<cpp:directive PREFIX:line="88" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="88" PREFIX:column="9">CONFIG_INT_16MHZ_OSCOUT_4MHZ</name></cpp:macro> <cpp:value PREFIX:line="88" PREFIX:column="38">0x0009</cpp:value></cpp:define> <comment type="line" PREFIX:line="88" PREFIX:column="45">// Internal 16MHz, 4MHz output</comment>
<cpp:define PREFIX:line="89" PREFIX:column="1">#<cpp:directive PREFIX:line="89" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="89" PREFIX:column="9">CONFIG_INT_16MHZ_OSCOUT_8MHZ</name></cpp:macro> <cpp:value PREFIX:line="89" PREFIX:column="38">0x000A</cpp:value></cpp:define> <comment type="line" PREFIX:line="89" PREFIX:column="45">// Internal 16MHz, 8MHz output</comment>
<cpp:define PREFIX:line="90" PREFIX:column="1">#<cpp:directive PREFIX:line="90" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="90" PREFIX:column="9">CONFIG_INT_16MHZ_OSCOUT_16MHZ</name></cpp:macro> <cpp:value PREFIX:line="90" PREFIX:column="39">0x000B</cpp:value></cpp:define> <comment type="line" PREFIX:line="90" PREFIX:column="46">// Internal 16MHz, 16MHz output</comment>
<cpp:define PREFIX:line="91" PREFIX:column="1">#<cpp:directive PREFIX:line="91" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="91" PREFIX:column="9">CONFIG_EXT_8MHZ_XTAL_DRIVE</name></cpp:macro> <cpp:value PREFIX:line="91" PREFIX:column="36">0x0004</cpp:value></cpp:define> <comment type="line" PREFIX:line="91" PREFIX:column="43">// External 8MHz crystal</comment>
<cpp:define PREFIX:line="92" PREFIX:column="1">#<cpp:directive PREFIX:line="92" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="92" PREFIX:column="9">CONFIG_EXT_16MHZ_XTAL_DRIVE</name></cpp:macro> <cpp:value PREFIX:line="92" PREFIX:column="37">0x0005</cpp:value></cpp:define> <comment type="line" PREFIX:line="92" PREFIX:column="44">// External 16MHz crystal</comment>
<cpp:define PREFIX:line="93" PREFIX:column="1">#<cpp:directive PREFIX:line="93" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="93" PREFIX:column="9">CONFIG_EXT_24MHZ_XTAL_DRIVE</name></cpp:macro> <cpp:value PREFIX:line="93" PREFIX:column="37">0x0006</cpp:value></cpp:define> <comment type="line" PREFIX:line="93" PREFIX:column="44">// External 24MHz crystal</comment>
<cpp:define PREFIX:line="94" PREFIX:column="1">#<cpp:directive PREFIX:line="94" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="94" PREFIX:column="9">CONFIG_EXT_32MHZ_XTAL_DRIVE</name></cpp:macro> <cpp:value PREFIX:line="94" PREFIX:column="37">0x0007</cpp:value></cpp:define> <comment type="line" PREFIX:line="94" PREFIX:column="44">// External 32MHz crystal</comment>
<cpp:define PREFIX:line="95" PREFIX:column="1">#<cpp:directive PREFIX:line="95" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="95" PREFIX:column="9">CONFIG_EXT_8MHZ_OSCOUT_INVERT</name></cpp:macro> <cpp:value PREFIX:line="95" PREFIX:column="39">0x000C</cpp:value></cpp:define> <comment type="line" PREFIX:line="95" PREFIX:column="46">// External 8MHz crystal, output inverted</comment>
<cpp:define PREFIX:line="96" PREFIX:column="1">#<cpp:directive PREFIX:line="96" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="96" PREFIX:column="9">CONFIG_EXT_16MHZ_OSCOUT_INVERT</name></cpp:macro> <cpp:value PREFIX:line="96" PREFIX:column="40">0x000D</cpp:value></cpp:define> <comment type="line" PREFIX:line="96" PREFIX:column="47">// External 16MHz crystal, output inverted</comment>
<cpp:define PREFIX:line="97" PREFIX:column="1">#<cpp:directive PREFIX:line="97" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="97" PREFIX:column="9">CONFIG_EXT_24MHZ_OSCOUT_INVERT</name></cpp:macro> <cpp:value PREFIX:line="97" PREFIX:column="40">0x000E</cpp:value></cpp:define> <comment type="line" PREFIX:line="97" PREFIX:column="47">// External 24MHz crystal, output inverted</comment>
<cpp:define PREFIX:line="98" PREFIX:column="1">#<cpp:directive PREFIX:line="98" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="98" PREFIX:column="9">CONFIG_EXT_32MHZ_OSCOUT_INVERT</name></cpp:macro> <cpp:value PREFIX:line="98" PREFIX:column="40">0x000F</cpp:value></cpp:define> <comment type="line" PREFIX:line="98" PREFIX:column="47">// External 32MHz crystal, output inverted</comment>

<comment type="line" PREFIX:line="100" PREFIX:column="1">// Configure the functionality of the al switch input</comment>
<cpp:define PREFIX:line="101" PREFIX:column="1">#<cpp:directive PREFIX:line="101" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="101" PREFIX:column="9">CONFIG_SW_MODE</name></cpp:macro> <cpp:value PREFIX:line="101" PREFIX:column="24">0x0010</cpp:value></cpp:define> <comment type="line" PREFIX:line="101" PREFIX:column="31">// Mask for this bit.</comment>
<cpp:define PREFIX:line="102" PREFIX:column="1">#<cpp:directive PREFIX:line="102" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="102" PREFIX:column="9">CONFIG_SW_HARD_STOP</name></cpp:macro> <cpp:value PREFIX:line="102" PREFIX:column="29">0x0000</cpp:value></cpp:define> <comment type="line" PREFIX:line="102" PREFIX:column="36">// Default; hard stop motor on switch.</comment>
<cpp:define PREFIX:line="103" PREFIX:column="1">#<cpp:directive PREFIX:line="103" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="103" PREFIX:column="9">CONFIG_SW_USER</name></cpp:macro> <cpp:value PREFIX:line="103" PREFIX:column="24">0x0010</cpp:value></cpp:define> <comment type="line" PREFIX:line="103" PREFIX:column="31">// Tie to the GoUntil and ReleaseSW</comment>
                                                    <comment type="line" PREFIX:line="104" PREFIX:column="53">// commands to provide jog function.</comment>
                                                    <comment type="line" PREFIX:line="105" PREFIX:column="53">// See page 25 of datasheet.</comment>

<comment type="line" PREFIX:line="107" PREFIX:column="1">// Configure the motor voltage compensation mode (see page 34 of datasheet)</comment>
<cpp:define PREFIX:line="108" PREFIX:column="1">#<cpp:directive PREFIX:line="108" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="108" PREFIX:column="9">CONFIG_EN_VSCOMP</name></cpp:macro> <cpp:value PREFIX:line="108" PREFIX:column="26">0x0020</cpp:value></cpp:define> <comment type="line" PREFIX:line="108" PREFIX:column="33">// Mask for this bit.</comment>
<cpp:define PREFIX:line="109" PREFIX:column="1">#<cpp:directive PREFIX:line="109" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="109" PREFIX:column="9">CONFIG_VS_COMP_DISABLE</name></cpp:macro> <cpp:value PREFIX:line="109" PREFIX:column="32">0x0000</cpp:value></cpp:define> <comment type="line" PREFIX:line="109" PREFIX:column="39">// Disable motor voltage compensation.</comment>
<cpp:define PREFIX:line="110" PREFIX:column="1">#<cpp:directive PREFIX:line="110" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="110" PREFIX:column="9">CONFIG_VS_COMP_ENABLE</name></cpp:macro> <cpp:value PREFIX:line="110" PREFIX:column="31">0x0020</cpp:value></cpp:define> <comment type="line" PREFIX:line="110" PREFIX:column="38">// Enable motor voltage compensation.</comment>

<comment type="line" PREFIX:line="112" PREFIX:column="1">// Configure overcurrent detection event handling</comment>
<cpp:define PREFIX:line="113" PREFIX:column="1">#<cpp:directive PREFIX:line="113" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="113" PREFIX:column="9">CONFIG_OC_SD</name></cpp:macro> <cpp:value PREFIX:line="113" PREFIX:column="22">0x0080</cpp:value></cpp:define> <comment type="line" PREFIX:line="113" PREFIX:column="29">// Mask for this bit.</comment>
<cpp:define PREFIX:line="114" PREFIX:column="1">#<cpp:directive PREFIX:line="114" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="114" PREFIX:column="9">CONFIG_OC_SD_DISABLE</name></cpp:macro> <cpp:value PREFIX:line="114" PREFIX:column="30">0x0000</cpp:value></cpp:define> <comment type="line" PREFIX:line="114" PREFIX:column="37">// Bridges do NOT shutdown on OC detect</comment>
<cpp:define PREFIX:line="115" PREFIX:column="1">#<cpp:directive PREFIX:line="115" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="115" PREFIX:column="9">CONFIG_OC_SD_ENABLE</name></cpp:macro> <cpp:value PREFIX:line="115" PREFIX:column="29">0x0080</cpp:value></cpp:define> <comment type="line" PREFIX:line="115" PREFIX:column="36">// Bridges shutdown on OC detect</comment>

<comment type="line" PREFIX:line="117" PREFIX:column="1">// Configure the slew rate of the power bridge output</comment>
<cpp:define PREFIX:line="118" PREFIX:column="1">#<cpp:directive PREFIX:line="118" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="118" PREFIX:column="9">CONFIG_POW_SR</name></cpp:macro> <cpp:value PREFIX:line="118" PREFIX:column="23">0x0300</cpp:value></cpp:define> <comment type="line" PREFIX:line="118" PREFIX:column="30">// Mask for this bit field.</comment>
<cpp:define PREFIX:line="119" PREFIX:column="1">#<cpp:directive PREFIX:line="119" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="119" PREFIX:column="9">CONFIG_SR_180V_us</name></cpp:macro> <cpp:value PREFIX:line="119" PREFIX:column="27">0x0000</cpp:value></cpp:define> <comment type="line" PREFIX:line="119" PREFIX:column="34">// 180V/us</comment>
<cpp:define PREFIX:line="120" PREFIX:column="1">#<cpp:directive PREFIX:line="120" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="120" PREFIX:column="9">CONFIG_SR_290V_us</name></cpp:macro> <cpp:value PREFIX:line="120" PREFIX:column="27">0x0200</cpp:value></cpp:define> <comment type="line" PREFIX:line="120" PREFIX:column="34">// 290V/us</comment>
<cpp:define PREFIX:line="121" PREFIX:column="1">#<cpp:directive PREFIX:line="121" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="121" PREFIX:column="9">CONFIG_SR_530V_us</name></cpp:macro> <cpp:value PREFIX:line="121" PREFIX:column="27">0x0300</cpp:value></cpp:define> <comment type="line" PREFIX:line="121" PREFIX:column="34">// 530V/us</comment>

<comment type="line" PREFIX:line="123" PREFIX:column="1">// Integer divisors for PWM sinewave generation</comment>
<comment type="line" PREFIX:line="124" PREFIX:column="1">// See page 32 of the datasheet for more information on this.</comment>
<cpp:define PREFIX:line="125" PREFIX:column="1">#<cpp:directive PREFIX:line="125" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="125" PREFIX:column="9">CONFIG_F_PWM_DEC</name></cpp:macro> <cpp:value PREFIX:line="125" PREFIX:column="26">0x1C00</cpp:value></cpp:define> <comment type="line" PREFIX:line="125" PREFIX:column="33">// mask for this bit field</comment>
<cpp:define PREFIX:line="126" PREFIX:column="1">#<cpp:directive PREFIX:line="126" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="126" PREFIX:column="9">CONFIG_PWM_MUL_0_625</name></cpp:macro> <cpp:value PREFIX:line="126" PREFIX:column="30">(0x00)&lt;&lt;10</cpp:value></cpp:define>
<cpp:define PREFIX:line="127" PREFIX:column="1">#<cpp:directive PREFIX:line="127" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="127" PREFIX:column="9">CONFIG_PWM_MUL_0_75</name></cpp:macro> <cpp:value PREFIX:line="127" PREFIX:column="29">(0x01)&lt;&lt;10</cpp:value></cpp:define>
<cpp:define PREFIX:line="128" PREFIX:column="1">#<cpp:directive PREFIX:line="128" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="128" PREFIX:column="9">CONFIG_PWM_MUL_0_875</name></cpp:macro> <cpp:value PREFIX:line="128" PREFIX:column="30">(0x02)&lt;&lt;10</cpp:value></cpp:define>
<cpp:define PREFIX:line="129" PREFIX:column="1">#<cpp:directive PREFIX:line="129" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="129" PREFIX:column="9">CONFIG_PWM_MUL_1</name></cpp:macro> <cpp:value PREFIX:line="129" PREFIX:column="26">(0x03)&lt;&lt;10</cpp:value></cpp:define>
<cpp:define PREFIX:line="130" PREFIX:column="1">#<cpp:directive PREFIX:line="130" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="130" PREFIX:column="9">CONFIG_PWM_MUL_1_25</name></cpp:macro> <cpp:value PREFIX:line="130" PREFIX:column="29">(0x04)&lt;&lt;10</cpp:value></cpp:define>
<cpp:define PREFIX:line="131" PREFIX:column="1">#<cpp:directive PREFIX:line="131" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="131" PREFIX:column="9">CONFIG_PWM_MUL_1_5</name></cpp:macro> <cpp:value PREFIX:line="131" PREFIX:column="28">(0x05)&lt;&lt;10</cpp:value></cpp:define>
<cpp:define PREFIX:line="132" PREFIX:column="1">#<cpp:directive PREFIX:line="132" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="132" PREFIX:column="9">CONFIG_PWM_MUL_1_75</name></cpp:macro> <cpp:value PREFIX:line="132" PREFIX:column="29">(0x06)&lt;&lt;10</cpp:value></cpp:define>
<cpp:define PREFIX:line="133" PREFIX:column="1">#<cpp:directive PREFIX:line="133" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="133" PREFIX:column="9">CONFIG_PWM_MUL_2</name></cpp:macro> <cpp:value PREFIX:line="133" PREFIX:column="26">(0x07)&lt;&lt;10</cpp:value></cpp:define>

<comment type="line" PREFIX:line="135" PREFIX:column="1">// Multiplier for the PWM sinewave frequency</comment>
<cpp:define PREFIX:line="136" PREFIX:column="1">#<cpp:directive PREFIX:line="136" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="136" PREFIX:column="9">CONFIG_F_PWM_INT</name></cpp:macro> <cpp:value PREFIX:line="136" PREFIX:column="26">0xE000</cpp:value></cpp:define> <comment type="line" PREFIX:line="136" PREFIX:column="33">// mask for this bit field.</comment>
<cpp:define PREFIX:line="137" PREFIX:column="1">#<cpp:directive PREFIX:line="137" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="137" PREFIX:column="9">CONFIG_PWM_DIV_1</name></cpp:macro> <cpp:value PREFIX:line="137" PREFIX:column="26">(0x00)&lt;&lt;13</cpp:value></cpp:define>
<cpp:define PREFIX:line="138" PREFIX:column="1">#<cpp:directive PREFIX:line="138" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="138" PREFIX:column="9">CONFIG_PWM_DIV_2</name></cpp:macro> <cpp:value PREFIX:line="138" PREFIX:column="26">(0x01)&lt;&lt;13</cpp:value></cpp:define>
<cpp:define PREFIX:line="139" PREFIX:column="1">#<cpp:directive PREFIX:line="139" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="139" PREFIX:column="9">CONFIG_PWM_DIV_3</name></cpp:macro> <cpp:value PREFIX:line="139" PREFIX:column="26">(0x02)&lt;&lt;13</cpp:value></cpp:define>
<cpp:define PREFIX:line="140" PREFIX:column="1">#<cpp:directive PREFIX:line="140" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="140" PREFIX:column="9">CONFIG_PWM_DIV_4</name></cpp:macro> <cpp:value PREFIX:line="140" PREFIX:column="26">(0x03)&lt;&lt;13</cpp:value></cpp:define>
<cpp:define PREFIX:line="141" PREFIX:column="1">#<cpp:directive PREFIX:line="141" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="141" PREFIX:column="9">CONFIG_PWM_DIV_5</name></cpp:macro> <cpp:value PREFIX:line="141" PREFIX:column="26">(0x04)&lt;&lt;13</cpp:value></cpp:define>
<cpp:define PREFIX:line="142" PREFIX:column="1">#<cpp:directive PREFIX:line="142" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="142" PREFIX:column="9">CONFIG_PWM_DIV_6</name></cpp:macro> <cpp:value PREFIX:line="142" PREFIX:column="26">(0x05)&lt;&lt;13</cpp:value></cpp:define>
<cpp:define PREFIX:line="143" PREFIX:column="1">#<cpp:directive PREFIX:line="143" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="143" PREFIX:column="9">CONFIG_PWM_DIV_7</name></cpp:macro> <cpp:value PREFIX:line="143" PREFIX:column="26">(0x06)&lt;&lt;13</cpp:value></cpp:define>

<comment type="line" PREFIX:line="145" PREFIX:column="1">// Status register bit renames- read-only bits conferring information about the</comment>
<comment type="line" PREFIX:line="146" PREFIX:column="1">// device to the user.</comment>
<cpp:define PREFIX:line="147" PREFIX:column="1">#<cpp:directive PREFIX:line="147" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="147" PREFIX:column="9">STATUS_HIZ</name></cpp:macro> <cpp:value PREFIX:line="147" PREFIX:column="20">0x0001</cpp:value></cpp:define> <comment type="line" PREFIX:line="147" PREFIX:column="27">// high when bridges are in HiZ mode</comment>
<cpp:define PREFIX:line="148" PREFIX:column="1">#<cpp:directive PREFIX:line="148" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="148" PREFIX:column="9">STATUS_BUSY</name></cpp:macro> <cpp:value PREFIX:line="148" PREFIX:column="21">0x0002</cpp:value></cpp:define> <comment type="line" PREFIX:line="148" PREFIX:column="28">// mirrors BUSY pin</comment>
<cpp:define PREFIX:line="149" PREFIX:column="1">#<cpp:directive PREFIX:line="149" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="149" PREFIX:column="9">STATUS_SW_F</name></cpp:macro> <cpp:value PREFIX:line="149" PREFIX:column="21">0x0004</cpp:value></cpp:define> <comment type="line" PREFIX:line="149" PREFIX:column="28">// low when switch open, high when closed</comment>
<cpp:define PREFIX:line="150" PREFIX:column="1">#<cpp:directive PREFIX:line="150" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="150" PREFIX:column="9">STATUS_SW_EVN</name></cpp:macro> <cpp:value PREFIX:line="150" PREFIX:column="23">0x0008</cpp:value></cpp:define> <comment type="line" PREFIX:line="150" PREFIX:column="30">// active high, set on switch falling edge,</comment>
                                                    <comment type="line" PREFIX:line="151" PREFIX:column="53">// cleared by reading STATUS</comment>
<cpp:define PREFIX:line="152" PREFIX:column="1">#<cpp:directive PREFIX:line="152" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="152" PREFIX:column="9">STATUS_DIR</name></cpp:macro> <cpp:value PREFIX:line="152" PREFIX:column="20">0x0010</cpp:value></cpp:define> <comment type="line" PREFIX:line="152" PREFIX:column="27">// Indicates current motor direction.</comment>
                                                    <comment type="line" PREFIX:line="153" PREFIX:column="53">// High is FWD, Low is REV.</comment>
<cpp:define PREFIX:line="154" PREFIX:column="1">#<cpp:directive PREFIX:line="154" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="154" PREFIX:column="9">STATUS_NOTPERF_CMD</name></cpp:macro> <cpp:value PREFIX:line="154" PREFIX:column="28">0x0080</cpp:value></cpp:define> <comment type="line" PREFIX:line="154" PREFIX:column="35">// Last command not performed.</comment>
<cpp:define PREFIX:line="155" PREFIX:column="1">#<cpp:directive PREFIX:line="155" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="155" PREFIX:column="9">STATUS_WRONG_CMD</name></cpp:macro> <cpp:value PREFIX:line="155" PREFIX:column="26">0x0100</cpp:value></cpp:define> <comment type="line" PREFIX:line="155" PREFIX:column="33">// Last command not valid.</comment>
<cpp:define PREFIX:line="156" PREFIX:column="1">#<cpp:directive PREFIX:line="156" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="156" PREFIX:column="9">STATUS_UVLO</name></cpp:macro> <cpp:value PREFIX:line="156" PREFIX:column="21">0x0200</cpp:value></cpp:define> <comment type="line" PREFIX:line="156" PREFIX:column="28">// Undervoltage lockout is active</comment>
<cpp:define PREFIX:line="157" PREFIX:column="1">#<cpp:directive PREFIX:line="157" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="157" PREFIX:column="9">STATUS_TH_WRN</name></cpp:macro> <cpp:value PREFIX:line="157" PREFIX:column="23">0x0400</cpp:value></cpp:define> <comment type="line" PREFIX:line="157" PREFIX:column="30">// Thermal warning</comment>
<cpp:define PREFIX:line="158" PREFIX:column="1">#<cpp:directive PREFIX:line="158" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="158" PREFIX:column="9">STATUS_TH_SD</name></cpp:macro> <cpp:value PREFIX:line="158" PREFIX:column="22">0x0800</cpp:value></cpp:define> <comment type="line" PREFIX:line="158" PREFIX:column="29">// Thermal shutdown</comment>
<cpp:define PREFIX:line="159" PREFIX:column="1">#<cpp:directive PREFIX:line="159" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="159" PREFIX:column="9">STATUS_OCD</name></cpp:macro> <cpp:value PREFIX:line="159" PREFIX:column="20">0x1000</cpp:value></cpp:define> <comment type="line" PREFIX:line="159" PREFIX:column="27">// Overcurrent detected</comment>
<cpp:define PREFIX:line="160" PREFIX:column="1">#<cpp:directive PREFIX:line="160" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="160" PREFIX:column="9">STATUS_STEP_LOSS_A</name></cpp:macro> <cpp:value PREFIX:line="160" PREFIX:column="28">0x2000</cpp:value></cpp:define> <comment type="line" PREFIX:line="160" PREFIX:column="35">// Stall detected on A bridge</comment>
<cpp:define PREFIX:line="161" PREFIX:column="1">#<cpp:directive PREFIX:line="161" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="161" PREFIX:column="9">STATUS_STEP_LOSS_B</name></cpp:macro> <cpp:value PREFIX:line="161" PREFIX:column="28">0x4000</cpp:value></cpp:define> <comment type="line" PREFIX:line="161" PREFIX:column="35">// Stall detected on B bridge</comment>
<cpp:define PREFIX:line="162" PREFIX:column="1">#<cpp:directive PREFIX:line="162" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="162" PREFIX:column="9">STATUS_SCK_MOD</name></cpp:macro> <cpp:value PREFIX:line="162" PREFIX:column="24">0x8000</cpp:value></cpp:define> <comment type="line" PREFIX:line="162" PREFIX:column="31">// Step clock mode is active</comment>

<comment type="line" PREFIX:line="164" PREFIX:column="1">// Status register motor status field</comment>
<cpp:define PREFIX:line="165" PREFIX:column="1">#<cpp:directive PREFIX:line="165" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="165" PREFIX:column="9">STATUS_MOT_STATUS</name></cpp:macro> <cpp:value PREFIX:line="165" PREFIX:column="27">0x0060</cpp:value></cpp:define> <comment type="line" PREFIX:line="165" PREFIX:column="34">// field mask</comment>
<cpp:define PREFIX:line="166" PREFIX:column="1">#<cpp:directive PREFIX:line="166" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="166" PREFIX:column="9">STATUS_MOT_STATUS_STOPPED</name></cpp:macro> <cpp:value PREFIX:line="166" PREFIX:column="35">(0x0000)&lt;&lt;13</cpp:value></cpp:define> <comment type="line" PREFIX:line="166" PREFIX:column="48">// Motor stopped</comment>
<cpp:define PREFIX:line="167" PREFIX:column="1">#<cpp:directive PREFIX:line="167" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="167" PREFIX:column="9">STATUS_MOT_STATUS_ACCELERATION</name></cpp:macro> <cpp:value PREFIX:line="167" PREFIX:column="40">(0x0001)&lt;&lt;13</cpp:value></cpp:define> <comment type="line" PREFIX:line="167" PREFIX:column="53">// Motor accelerating</comment>
<cpp:define PREFIX:line="168" PREFIX:column="1">#<cpp:directive PREFIX:line="168" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="168" PREFIX:column="9">STATUS_MOT_STATUS_DECELERATION</name></cpp:macro> <cpp:value PREFIX:line="168" PREFIX:column="40">(0x0002)&lt;&lt;13</cpp:value></cpp:define> <comment type="line" PREFIX:line="168" PREFIX:column="53">// Motor decelerating</comment>
<cpp:define PREFIX:line="169" PREFIX:column="1">#<cpp:directive PREFIX:line="169" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="169" PREFIX:column="9">STATUS_MOT_STATUS_CONST_SPD</name></cpp:macro> <cpp:value PREFIX:line="169" PREFIX:column="37">(0x0003)&lt;&lt;13</cpp:value></cpp:define> <comment type="line" PREFIX:line="169" PREFIX:column="50">// Motor at ant speed</comment>

<comment type="line" PREFIX:line="171" PREFIX:column="1">// Register address redefines.</comment>
<comment type="line" PREFIX:line="172" PREFIX:column="1">// See the Param_Handler() function for more info about these.</comment>
<cpp:define PREFIX:line="173" PREFIX:column="1">#<cpp:directive PREFIX:line="173" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="173" PREFIX:column="9">ABS_POS</name></cpp:macro> <cpp:value PREFIX:line="173" PREFIX:column="17">0x01</cpp:value></cpp:define>
<cpp:define PREFIX:line="174" PREFIX:column="1">#<cpp:directive PREFIX:line="174" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="174" PREFIX:column="9">EL_POS</name></cpp:macro> <cpp:value PREFIX:line="174" PREFIX:column="16">0x02</cpp:value></cpp:define>
<cpp:define PREFIX:line="175" PREFIX:column="1">#<cpp:directive PREFIX:line="175" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="175" PREFIX:column="9">MARK</name></cpp:macro> <cpp:value PREFIX:line="175" PREFIX:column="14">0x03</cpp:value></cpp:define>
<cpp:define PREFIX:line="176" PREFIX:column="1">#<cpp:directive PREFIX:line="176" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="176" PREFIX:column="9">SPEED</name></cpp:macro> <cpp:value PREFIX:line="176" PREFIX:column="15">0x04</cpp:value></cpp:define>
<cpp:define PREFIX:line="177" PREFIX:column="1">#<cpp:directive PREFIX:line="177" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="177" PREFIX:column="9">ACC</name></cpp:macro> <cpp:value PREFIX:line="177" PREFIX:column="13">0x05</cpp:value></cpp:define>
<cpp:define PREFIX:line="178" PREFIX:column="1">#<cpp:directive PREFIX:line="178" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="178" PREFIX:column="9">DEC</name></cpp:macro> <cpp:value PREFIX:line="178" PREFIX:column="13">0x06</cpp:value></cpp:define>
<cpp:define PREFIX:line="179" PREFIX:column="1">#<cpp:directive PREFIX:line="179" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="179" PREFIX:column="9">MAX_SPEED</name></cpp:macro> <cpp:value PREFIX:line="179" PREFIX:column="19">0x07</cpp:value></cpp:define>
<cpp:define PREFIX:line="180" PREFIX:column="1">#<cpp:directive PREFIX:line="180" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="180" PREFIX:column="9">MIN_SPEED</name></cpp:macro> <cpp:value PREFIX:line="180" PREFIX:column="19">0x08</cpp:value></cpp:define>
<cpp:define PREFIX:line="181" PREFIX:column="1">#<cpp:directive PREFIX:line="181" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="181" PREFIX:column="9">FS_SPD</name></cpp:macro> <cpp:value PREFIX:line="181" PREFIX:column="16">0x15</cpp:value></cpp:define>
<cpp:define PREFIX:line="182" PREFIX:column="1">#<cpp:directive PREFIX:line="182" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="182" PREFIX:column="9">KVAL_HOLD</name></cpp:macro> <cpp:value PREFIX:line="182" PREFIX:column="19">0x09</cpp:value></cpp:define>
<cpp:define PREFIX:line="183" PREFIX:column="1">#<cpp:directive PREFIX:line="183" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="183" PREFIX:column="9">KVAL_RUN</name></cpp:macro> <cpp:value PREFIX:line="183" PREFIX:column="18">0x0A</cpp:value></cpp:define>
<cpp:define PREFIX:line="184" PREFIX:column="1">#<cpp:directive PREFIX:line="184" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="184" PREFIX:column="9">KVAL_ACC</name></cpp:macro> <cpp:value PREFIX:line="184" PREFIX:column="18">0x0B</cpp:value></cpp:define>
<cpp:define PREFIX:line="185" PREFIX:column="1">#<cpp:directive PREFIX:line="185" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="185" PREFIX:column="9">KVAL_DEC</name></cpp:macro> <cpp:value PREFIX:line="185" PREFIX:column="18">0x0C</cpp:value></cpp:define>
<cpp:define PREFIX:line="186" PREFIX:column="1">#<cpp:directive PREFIX:line="186" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="186" PREFIX:column="9">INT_SPD</name></cpp:macro> <cpp:value PREFIX:line="186" PREFIX:column="17">0x0D</cpp:value></cpp:define>
<cpp:define PREFIX:line="187" PREFIX:column="1">#<cpp:directive PREFIX:line="187" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="187" PREFIX:column="9">ST_SLP</name></cpp:macro> <cpp:value PREFIX:line="187" PREFIX:column="16">0x0E</cpp:value></cpp:define>
<cpp:define PREFIX:line="188" PREFIX:column="1">#<cpp:directive PREFIX:line="188" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="188" PREFIX:column="9">FN_SLP_ACC</name></cpp:macro> <cpp:value PREFIX:line="188" PREFIX:column="20">0x0F</cpp:value></cpp:define>
<cpp:define PREFIX:line="189" PREFIX:column="1">#<cpp:directive PREFIX:line="189" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="189" PREFIX:column="9">FN_SLP_DEC</name></cpp:macro> <cpp:value PREFIX:line="189" PREFIX:column="20">0x10</cpp:value></cpp:define>
<cpp:define PREFIX:line="190" PREFIX:column="1">#<cpp:directive PREFIX:line="190" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="190" PREFIX:column="9">K_THERM</name></cpp:macro> <cpp:value PREFIX:line="190" PREFIX:column="17">0x11</cpp:value></cpp:define>
<cpp:define PREFIX:line="191" PREFIX:column="1">#<cpp:directive PREFIX:line="191" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="191" PREFIX:column="9">ADC_OUT</name></cpp:macro> <cpp:value PREFIX:line="191" PREFIX:column="17">0x12</cpp:value></cpp:define>
<cpp:define PREFIX:line="192" PREFIX:column="1">#<cpp:directive PREFIX:line="192" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="192" PREFIX:column="9">OCD_TH</name></cpp:macro> <cpp:value PREFIX:line="192" PREFIX:column="16">0x13</cpp:value></cpp:define>
<cpp:define PREFIX:line="193" PREFIX:column="1">#<cpp:directive PREFIX:line="193" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="193" PREFIX:column="9">STALL_TH</name></cpp:macro> <cpp:value PREFIX:line="193" PREFIX:column="18">0x14</cpp:value></cpp:define>
<cpp:define PREFIX:line="194" PREFIX:column="1">#<cpp:directive PREFIX:line="194" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="194" PREFIX:column="9">STEP_MODE</name></cpp:macro> <cpp:value PREFIX:line="194" PREFIX:column="19">0x16</cpp:value></cpp:define>
<cpp:define PREFIX:line="195" PREFIX:column="1">#<cpp:directive PREFIX:line="195" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="195" PREFIX:column="9">ALARM_EN</name></cpp:macro> <cpp:value PREFIX:line="195" PREFIX:column="18">0x17</cpp:value></cpp:define>
<cpp:define PREFIX:line="196" PREFIX:column="1">#<cpp:directive PREFIX:line="196" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="196" PREFIX:column="9">CONFIG</name></cpp:macro> <cpp:value PREFIX:line="196" PREFIX:column="16">0x18</cpp:value></cpp:define>
<cpp:define PREFIX:line="197" PREFIX:column="1">#<cpp:directive PREFIX:line="197" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="197" PREFIX:column="9">STATUS</name></cpp:macro> <cpp:value PREFIX:line="197" PREFIX:column="16">0x19</cpp:value></cpp:define>

<comment type="line" PREFIX:line="199" PREFIX:column="1">//dSPIN commands</comment>
<cpp:define PREFIX:line="200" PREFIX:column="1">#<cpp:directive PREFIX:line="200" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="200" PREFIX:column="9">NOP</name></cpp:macro> <cpp:value PREFIX:line="200" PREFIX:column="13">0x00</cpp:value></cpp:define>
<cpp:define PREFIX:line="201" PREFIX:column="1">#<cpp:directive PREFIX:line="201" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="201" PREFIX:column="9">SET_PARAM</name></cpp:macro> <cpp:value PREFIX:line="201" PREFIX:column="19">0x00</cpp:value></cpp:define>
<cpp:define PREFIX:line="202" PREFIX:column="1">#<cpp:directive PREFIX:line="202" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="202" PREFIX:column="9">GET_PARAM</name></cpp:macro> <cpp:value PREFIX:line="202" PREFIX:column="19">0x20</cpp:value></cpp:define>
<cpp:define PREFIX:line="203" PREFIX:column="1">#<cpp:directive PREFIX:line="203" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="203" PREFIX:column="9">RUN</name></cpp:macro> <cpp:value PREFIX:line="203" PREFIX:column="13">0x50</cpp:value></cpp:define>
<cpp:define PREFIX:line="204" PREFIX:column="1">#<cpp:directive PREFIX:line="204" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="204" PREFIX:column="9">STEP_CLOCK</name></cpp:macro> <cpp:value PREFIX:line="204" PREFIX:column="20">0x58</cpp:value></cpp:define>
<cpp:define PREFIX:line="205" PREFIX:column="1">#<cpp:directive PREFIX:line="205" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="205" PREFIX:column="9">MOVE</name></cpp:macro> <cpp:value PREFIX:line="205" PREFIX:column="14">0x40</cpp:value></cpp:define>
<cpp:define PREFIX:line="206" PREFIX:column="1">#<cpp:directive PREFIX:line="206" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="206" PREFIX:column="9">GOTO</name></cpp:macro> <cpp:value PREFIX:line="206" PREFIX:column="14">0x60</cpp:value></cpp:define>
<cpp:define PREFIX:line="207" PREFIX:column="1">#<cpp:directive PREFIX:line="207" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="207" PREFIX:column="9">GOTO_DIR</name></cpp:macro> <cpp:value PREFIX:line="207" PREFIX:column="18">0x68</cpp:value></cpp:define>
<cpp:define PREFIX:line="208" PREFIX:column="1">#<cpp:directive PREFIX:line="208" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="208" PREFIX:column="9">GO_UNTIL</name></cpp:macro> <cpp:value PREFIX:line="208" PREFIX:column="18">0x82</cpp:value></cpp:define>
<cpp:define PREFIX:line="209" PREFIX:column="1">#<cpp:directive PREFIX:line="209" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="209" PREFIX:column="9">RELEASE_SW</name></cpp:macro> <cpp:value PREFIX:line="209" PREFIX:column="20">0x92</cpp:value></cpp:define>
<cpp:define PREFIX:line="210" PREFIX:column="1">#<cpp:directive PREFIX:line="210" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="210" PREFIX:column="9">GO_HOME</name></cpp:macro> <cpp:value PREFIX:line="210" PREFIX:column="17">0x70</cpp:value></cpp:define>
<cpp:define PREFIX:line="211" PREFIX:column="1">#<cpp:directive PREFIX:line="211" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="211" PREFIX:column="9">GO_MARK</name></cpp:macro> <cpp:value PREFIX:line="211" PREFIX:column="17">0x78</cpp:value></cpp:define>
<cpp:define PREFIX:line="212" PREFIX:column="1">#<cpp:directive PREFIX:line="212" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="212" PREFIX:column="9">RESET_POS</name></cpp:macro> <cpp:value PREFIX:line="212" PREFIX:column="19">0xD8</cpp:value></cpp:define>
<cpp:define PREFIX:line="213" PREFIX:column="1">#<cpp:directive PREFIX:line="213" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="213" PREFIX:column="9">RESET_DEVICE</name></cpp:macro> <cpp:value PREFIX:line="213" PREFIX:column="22">0xC0</cpp:value></cpp:define>
<cpp:define PREFIX:line="214" PREFIX:column="1">#<cpp:directive PREFIX:line="214" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="214" PREFIX:column="9">SOFT_STOP</name></cpp:macro> <cpp:value PREFIX:line="214" PREFIX:column="19">0xB0</cpp:value></cpp:define>
<cpp:define PREFIX:line="215" PREFIX:column="1">#<cpp:directive PREFIX:line="215" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="215" PREFIX:column="9">HARD_STOP</name></cpp:macro> <cpp:value PREFIX:line="215" PREFIX:column="19">0xB8</cpp:value></cpp:define>
<cpp:define PREFIX:line="216" PREFIX:column="1">#<cpp:directive PREFIX:line="216" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="216" PREFIX:column="9">SOFT_HIZ</name></cpp:macro> <cpp:value PREFIX:line="216" PREFIX:column="18">0xA0</cpp:value></cpp:define>
<cpp:define PREFIX:line="217" PREFIX:column="1">#<cpp:directive PREFIX:line="217" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="217" PREFIX:column="9">HARD_HIZ</name></cpp:macro> <cpp:value PREFIX:line="217" PREFIX:column="18">0xA8</cpp:value></cpp:define>
<cpp:define PREFIX:line="218" PREFIX:column="1">#<cpp:directive PREFIX:line="218" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="218" PREFIX:column="9">GET_STATUS</name></cpp:macro> <cpp:value PREFIX:line="218" PREFIX:column="20">0xD0</cpp:value></cpp:define>

<comment type="block" PREFIX:line="220" PREFIX:column="1">/* dSPIN direction options */</comment>
<cpp:define PREFIX:line="221" PREFIX:column="1">#<cpp:directive PREFIX:line="221" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="221" PREFIX:column="9">FWD</name></cpp:macro> <cpp:value PREFIX:line="221" PREFIX:column="13">0x01</cpp:value></cpp:define>
<cpp:define PREFIX:line="222" PREFIX:column="1">#<cpp:directive PREFIX:line="222" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="222" PREFIX:column="9">REV</name></cpp:macro> <cpp:value PREFIX:line="222" PREFIX:column="13">0x00</cpp:value></cpp:define>

<comment type="block" PREFIX:line="224" PREFIX:column="1">/* dSPIN action options */</comment>
<cpp:define PREFIX:line="225" PREFIX:column="1">#<cpp:directive PREFIX:line="225" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="225" PREFIX:column="9">ACTION_RESET</name></cpp:macro> <cpp:value PREFIX:line="225" PREFIX:column="22">0x00</cpp:value></cpp:define>
<cpp:define PREFIX:line="226" PREFIX:column="1">#<cpp:directive PREFIX:line="226" PREFIX:column="2">define</cpp:directive> <cpp:macro><name PREFIX:line="226" PREFIX:column="9">ACTION_COPY</name></cpp:macro> <cpp:value PREFIX:line="226" PREFIX:column="21">0x01</cpp:value></cpp:define>


<class PREFIX:line="229" PREFIX:column="1">class <name PREFIX:line="229" PREFIX:column="7">L6470</name><block PREFIX:line="229" PREFIX:column="12">{<private type="default" PREFIX:line="229" PREFIX:column="13">

  </private><public PREFIX:line="231" PREFIX:column="3">public:

    <constructor_decl><name PREFIX:line="233" PREFIX:column="5">L6470</name><parameter_list PREFIX:line="233" PREFIX:column="10">(<param><decl><type><name PREFIX:line="233" PREFIX:column="11">int</name></type> <name PREFIX:line="233" PREFIX:column="15">SSPin</name></decl></param>)</parameter_list>;</constructor_decl>
    <function_decl><type><name PREFIX:line="234" PREFIX:column="5">void</name></type> <name PREFIX:line="234" PREFIX:column="10">init</name><parameter_list PREFIX:line="234" PREFIX:column="14">(<param><decl><type><name PREFIX:line="234" PREFIX:column="15">int</name></type> <name PREFIX:line="234" PREFIX:column="19">k_value</name></decl></param>)</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="235" PREFIX:column="5">void</name></type> <name PREFIX:line="235" PREFIX:column="10">setMicroSteps</name><parameter_list PREFIX:line="235" PREFIX:column="23">(<param><decl><type><name PREFIX:line="235" PREFIX:column="24">int</name></type> <name PREFIX:line="235" PREFIX:column="28">microSteps</name></decl></param>)</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="236" PREFIX:column="5">void</name></type> <name PREFIX:line="236" PREFIX:column="10">setCurrent</name><parameter_list PREFIX:line="236" PREFIX:column="20">(<param><decl><type><name PREFIX:line="236" PREFIX:column="21">int</name></type> <name PREFIX:line="236" PREFIX:column="25">current</name></decl></param>)</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="237" PREFIX:column="5">void</name></type> <name PREFIX:line="237" PREFIX:column="10">setMaxSpeed</name><parameter_list PREFIX:line="237" PREFIX:column="21">(<param><decl><type><name PREFIX:line="237" PREFIX:column="22">int</name></type> <name PREFIX:line="237" PREFIX:column="26">speed</name></decl></param>)</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="238" PREFIX:column="5">void</name></type> <name PREFIX:line="238" PREFIX:column="10">setMinSpeed</name><parameter_list PREFIX:line="238" PREFIX:column="21">(<param><decl><type><name PREFIX:line="238" PREFIX:column="22">int</name></type> <name PREFIX:line="238" PREFIX:column="26">speed</name></decl></param>)</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="239" PREFIX:column="5">void</name></type> <name PREFIX:line="239" PREFIX:column="10">setAcc</name><parameter_list PREFIX:line="239" PREFIX:column="16">(<param><decl><type><name PREFIX:line="239" PREFIX:column="17">float</name></type> <name PREFIX:line="239" PREFIX:column="23">acceleration</name></decl></param>)</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="240" PREFIX:column="5">void</name></type> <name PREFIX:line="240" PREFIX:column="10">setDec</name><parameter_list PREFIX:line="240" PREFIX:column="16">(<param><decl><type><name PREFIX:line="240" PREFIX:column="17">float</name></type> <name PREFIX:line="240" PREFIX:column="23">deceleration</name></decl></param>)</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="241" PREFIX:column="5">void</name></type> <name PREFIX:line="241" PREFIX:column="10">setOverCurrent</name><parameter_list PREFIX:line="241" PREFIX:column="24">(<param><decl><type><name PREFIX:line="241" PREFIX:column="25">unknowntype</name> <name PREFIX:line="241" PREFIX:column="37">int</name></type> <name PREFIX:line="241" PREFIX:column="41">ma_current</name></decl></param>)</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="242" PREFIX:column="5">void</name></type> <name PREFIX:line="242" PREFIX:column="10">setThresholdSpeed</name><parameter_list PREFIX:line="242" PREFIX:column="27">(<param><decl><type><name PREFIX:line="242" PREFIX:column="28">float</name></type> <name PREFIX:line="242" PREFIX:column="34">threshold</name></decl></param>)</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="243" PREFIX:column="5">void</name></type> <name PREFIX:line="243" PREFIX:column="10">setStallCurrent</name><parameter_list PREFIX:line="243" PREFIX:column="25">(<param><decl><type><name PREFIX:line="243" PREFIX:column="26">float</name></type> <name PREFIX:line="243" PREFIX:column="32">ma_current</name></decl></param>)</parameter_list>;</function_decl>
    
    <function_decl><type><name PREFIX:line="245" PREFIX:column="5">unknowntype</name> <name PREFIX:line="245" PREFIX:column="17">long</name></type> <name PREFIX:line="245" PREFIX:column="22">ParamHandler</name><parameter_list PREFIX:line="245" PREFIX:column="34">(<param><decl><type><name PREFIX:line="245" PREFIX:column="35">byte</name></type> <name PREFIX:line="245" PREFIX:column="40">param</name></decl></param>, <param><decl><type><name PREFIX:line="245" PREFIX:column="47">unknowntype</name> <name PREFIX:line="245" PREFIX:column="59">long</name></type> <name PREFIX:line="245" PREFIX:column="64">value</name></decl></param>)</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="246" PREFIX:column="5">void</name></type> <name PREFIX:line="246" PREFIX:column="10">SetLowSpeedOpt</name><parameter_list PREFIX:line="246" PREFIX:column="24">(<param><decl><type><name PREFIX:line="246" PREFIX:column="25">boolean</name></type> <name PREFIX:line="246" PREFIX:column="33">enable</name></decl></param>)</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="247" PREFIX:column="5">void</name></type> <name PREFIX:line="247" PREFIX:column="10">run</name><parameter_list PREFIX:line="247" PREFIX:column="13">(<param><decl><type><name PREFIX:line="247" PREFIX:column="14">byte</name></type> <name PREFIX:line="247" PREFIX:column="19">dir</name></decl></param>, <param><decl><type><name PREFIX:line="247" PREFIX:column="24">float</name></type> <name PREFIX:line="247" PREFIX:column="30">spd</name></decl></param>)</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="248" PREFIX:column="5">void</name></type> <name PREFIX:line="248" PREFIX:column="10">Step_Clock</name><parameter_list PREFIX:line="248" PREFIX:column="20">(<param><decl><type><name PREFIX:line="248" PREFIX:column="21">byte</name></type> <name PREFIX:line="248" PREFIX:column="26">dir</name></decl></param>)</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="249" PREFIX:column="5">void</name></type> <name PREFIX:line="249" PREFIX:column="10">goHome</name><parameter_list PREFIX:line="249" PREFIX:column="16">()</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="250" PREFIX:column="5">void</name></type> <name PREFIX:line="250" PREFIX:column="10">setAsHome</name><parameter_list PREFIX:line="250" PREFIX:column="19">()</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="251" PREFIX:column="5">void</name></type> <name PREFIX:line="251" PREFIX:column="10">goMark</name><parameter_list PREFIX:line="251" PREFIX:column="16">()</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="252" PREFIX:column="5">void</name></type> <name PREFIX:line="252" PREFIX:column="10">move</name><parameter_list PREFIX:line="252" PREFIX:column="14">(<param><decl><type><name PREFIX:line="252" PREFIX:column="15">long</name></type> <name PREFIX:line="252" PREFIX:column="20">n_step</name></decl></param>)</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="253" PREFIX:column="5">void</name></type> <name PREFIX:line="253" PREFIX:column="10">goTo</name><parameter_list PREFIX:line="253" PREFIX:column="14">(<param><decl><type><name PREFIX:line="253" PREFIX:column="15">long</name></type> <name PREFIX:line="253" PREFIX:column="20">pos</name></decl></param>)</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="254" PREFIX:column="5">void</name></type> <name PREFIX:line="254" PREFIX:column="10">goTo_DIR</name><parameter_list PREFIX:line="254" PREFIX:column="18">(<param><decl><type><name PREFIX:line="254" PREFIX:column="19">byte</name></type> <name PREFIX:line="254" PREFIX:column="24">dir</name></decl></param>, <param><decl><type><name PREFIX:line="254" PREFIX:column="29">long</name></type> <name PREFIX:line="254" PREFIX:column="34">pos</name></decl></param>)</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="255" PREFIX:column="5">void</name></type> <name PREFIX:line="255" PREFIX:column="10">goUntil</name><parameter_list PREFIX:line="255" PREFIX:column="17">(<param><decl><type><name PREFIX:line="255" PREFIX:column="18">byte</name></type> <name PREFIX:line="255" PREFIX:column="23">act</name></decl></param>, <param><decl><type><name PREFIX:line="255" PREFIX:column="28">byte</name></type> <name PREFIX:line="255" PREFIX:column="33">dir</name></decl></param>, <param><decl><type><name PREFIX:line="255" PREFIX:column="38">unknowntype</name> <name PREFIX:line="255" PREFIX:column="50">long</name></type> <name PREFIX:line="255" PREFIX:column="55">spd</name></decl></param>)</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="256" PREFIX:column="5">boolean</name></type> <name PREFIX:line="256" PREFIX:column="13">isBusy</name><parameter_list PREFIX:line="256" PREFIX:column="19">()</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="257" PREFIX:column="5">void</name></type> <name PREFIX:line="257" PREFIX:column="10">releaseSW</name><parameter_list PREFIX:line="257" PREFIX:column="19">(<param><decl><type><name PREFIX:line="257" PREFIX:column="20">byte</name></type> <name PREFIX:line="257" PREFIX:column="25">act</name></decl></param>, <param><decl><type><name PREFIX:line="257" PREFIX:column="30">byte</name></type> <name PREFIX:line="257" PREFIX:column="35">dir</name></decl></param>)</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="258" PREFIX:column="5">float</name></type> <name PREFIX:line="258" PREFIX:column="11">getSpeed</name><parameter_list PREFIX:line="258" PREFIX:column="19">()</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="259" PREFIX:column="5">long</name></type> <name PREFIX:line="259" PREFIX:column="10">getPos</name><parameter_list PREFIX:line="259" PREFIX:column="16">()</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="260" PREFIX:column="5">void</name></type> <name PREFIX:line="260" PREFIX:column="10">setMark</name><parameter_list PREFIX:line="260" PREFIX:column="17">()</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="261" PREFIX:column="5">void</name></type> <name PREFIX:line="261" PREFIX:column="10">setMark</name><parameter_list PREFIX:line="261" PREFIX:column="17">(<param><decl><type><name PREFIX:line="261" PREFIX:column="18">long</name></type> <name PREFIX:line="261" PREFIX:column="23">value</name></decl></param>)</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="262" PREFIX:column="5">void</name></type> <name PREFIX:line="262" PREFIX:column="10">resetPos</name><parameter_list PREFIX:line="262" PREFIX:column="18">()</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="263" PREFIX:column="5">void</name></type> <name PREFIX:line="263" PREFIX:column="10">resetDev</name><parameter_list PREFIX:line="263" PREFIX:column="18">()</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="264" PREFIX:column="5">void</name></type> <name PREFIX:line="264" PREFIX:column="10">softStop</name><parameter_list PREFIX:line="264" PREFIX:column="18">()</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="265" PREFIX:column="5">void</name></type> <name PREFIX:line="265" PREFIX:column="10">hardStop</name><parameter_list PREFIX:line="265" PREFIX:column="18">()</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="266" PREFIX:column="5">void</name></type> <name PREFIX:line="266" PREFIX:column="10">softFree</name><parameter_list PREFIX:line="266" PREFIX:column="18">()</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="267" PREFIX:column="5">void</name></type> <name PREFIX:line="267" PREFIX:column="10">free</name><parameter_list PREFIX:line="267" PREFIX:column="14">()</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="268" PREFIX:column="5">int</name></type> <name PREFIX:line="268" PREFIX:column="9">getStatus</name><parameter_list PREFIX:line="268" PREFIX:column="18">()</parameter_list>;</function_decl>
	<function_decl><type><name PREFIX:line="269" PREFIX:column="9">void</name></type> <name PREFIX:line="269" PREFIX:column="14">SetParam</name><parameter_list PREFIX:line="269" PREFIX:column="22">(<param><decl><type><name PREFIX:line="269" PREFIX:column="23">byte</name></type> <name PREFIX:line="269" PREFIX:column="28">param</name></decl></param>, <param><decl><type><name PREFIX:line="269" PREFIX:column="35">unknowntype</name> <name PREFIX:line="269" PREFIX:column="47">long</name></type> <name PREFIX:line="269" PREFIX:column="52">value</name></decl></param>)</parameter_list>;</function_decl>

  </public><private PREFIX:line="271" PREFIX:column="3">private:
    <function_decl><type><name PREFIX:line="272" PREFIX:column="5">long</name></type> <name PREFIX:line="272" PREFIX:column="10">convert</name><parameter_list PREFIX:line="272" PREFIX:column="17">(<param><decl><type><name PREFIX:line="272" PREFIX:column="18">unknowntype</name> <name PREFIX:line="272" PREFIX:column="30">long</name></type> <name PREFIX:line="272" PREFIX:column="35">val</name></decl></param>)</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="273" PREFIX:column="5">unknowntype</name> <name PREFIX:line="273" PREFIX:column="17">long</name></type> <name PREFIX:line="273" PREFIX:column="22">GetParam</name><parameter_list PREFIX:line="273" PREFIX:column="30">(<param><decl><type><name PREFIX:line="273" PREFIX:column="31">byte</name></type> <name PREFIX:line="273" PREFIX:column="36">param</name></decl></param>)</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="274" PREFIX:column="5">unknowntype</name> <name PREFIX:line="274" PREFIX:column="17">long</name></type> <name PREFIX:line="274" PREFIX:column="22">AccCalc</name><parameter_list PREFIX:line="274" PREFIX:column="29">(<param><decl><type><name PREFIX:line="274" PREFIX:column="30">float</name></type> <name PREFIX:line="274" PREFIX:column="36">stepsPerSecPerSec</name></decl></param>)</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="275" PREFIX:column="5">unknowntype</name> <name PREFIX:line="275" PREFIX:column="17">long</name></type> <name PREFIX:line="275" PREFIX:column="22">DecCalc</name><parameter_list PREFIX:line="275" PREFIX:column="29">(<param><decl><type><name PREFIX:line="275" PREFIX:column="30">float</name></type> <name PREFIX:line="275" PREFIX:column="36">stepsPerSecPerSec</name></decl></param>)</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="276" PREFIX:column="5">unknowntype</name> <name PREFIX:line="276" PREFIX:column="17">long</name></type> <name PREFIX:line="276" PREFIX:column="22">MaxSpdCalc</name><parameter_list PREFIX:line="276" PREFIX:column="32">(<param><decl><type><name PREFIX:line="276" PREFIX:column="33">float</name></type> <name PREFIX:line="276" PREFIX:column="39">stepsPerSec</name></decl></param>)</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="277" PREFIX:column="5">unknowntype</name> <name PREFIX:line="277" PREFIX:column="17">long</name></type> <name PREFIX:line="277" PREFIX:column="22">MinSpdCalc</name><parameter_list PREFIX:line="277" PREFIX:column="32">(<param><decl><type><name PREFIX:line="277" PREFIX:column="33">float</name></type> <name PREFIX:line="277" PREFIX:column="39">stepsPerSec</name></decl></param>)</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="278" PREFIX:column="5">unknowntype</name> <name PREFIX:line="278" PREFIX:column="17">long</name></type> <name PREFIX:line="278" PREFIX:column="22">FSCalc</name><parameter_list PREFIX:line="278" PREFIX:column="28">(<param><decl><type><name PREFIX:line="278" PREFIX:column="29">float</name></type> <name PREFIX:line="278" PREFIX:column="35">stepsPerSec</name></decl></param>)</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="279" PREFIX:column="5">unknowntype</name> <name PREFIX:line="279" PREFIX:column="17">long</name></type> <name PREFIX:line="279" PREFIX:column="22">IntSpdCalc</name><parameter_list PREFIX:line="279" PREFIX:column="32">(<param><decl><type><name PREFIX:line="279" PREFIX:column="33">float</name></type> <name PREFIX:line="279" PREFIX:column="39">stepsPerSec</name></decl></param>)</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="280" PREFIX:column="5">unknowntype</name> <name PREFIX:line="280" PREFIX:column="17">long</name></type> <name PREFIX:line="280" PREFIX:column="22">SpdCalc</name><parameter_list PREFIX:line="280" PREFIX:column="29">(<param><decl><type><name PREFIX:line="280" PREFIX:column="30">float</name></type> <name PREFIX:line="280" PREFIX:column="36">stepsPerSec</name></decl></param>)</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="281" PREFIX:column="5">unknowntype</name> <name PREFIX:line="281" PREFIX:column="17">long</name></type> <name PREFIX:line="281" PREFIX:column="22">Param</name><parameter_list PREFIX:line="281" PREFIX:column="27">(<param><decl><type><name PREFIX:line="281" PREFIX:column="28">unknowntype</name> <name PREFIX:line="281" PREFIX:column="40">long</name></type> <name PREFIX:line="281" PREFIX:column="45">value</name></decl></param>, <param><decl><type><name PREFIX:line="281" PREFIX:column="52">byte</name></type> <name PREFIX:line="281" PREFIX:column="57">bit_len</name></decl></param>)</parameter_list>;</function_decl>
    <function_decl><type><name PREFIX:line="282" PREFIX:column="5">byte</name></type> <name PREFIX:line="282" PREFIX:column="10">Xfer</name><parameter_list PREFIX:line="282" PREFIX:column="14">(<param><decl><type><name PREFIX:line="282" PREFIX:column="15">byte</name></type> <name PREFIX:line="282" PREFIX:column="20">data</name></decl></param>)</parameter_list>;</function_decl>
    <decl_stmt><decl><type><name PREFIX:line="283" PREFIX:column="5">int</name></type> <name PREFIX:line="283" PREFIX:column="9">_SSPin</name></decl>;</decl_stmt>
</private>}</block>;</class>

<cpp:endif PREFIX:line="286" PREFIX:column="1">#<cpp:directive PREFIX:line="286" PREFIX:column="2">endif</cpp:directive></cpp:endif>
</unit>
